-----------------------------ITEM INVENTORY MANAGEMENT SYSTEM--------------------------

1) CREATE DATABASE -

			postgres=# create database inventory_mgt;
			CREATE DATABASE
2) SELECT DATABASE: 
			
			postgres=# \c inventory_mgt 
			You are now connected to database "inventory_mgt" as user "postgres".
			inventory_mgt=# 


------------------------------------TABLES---------------------------

1) brand table - 
			inventory_mgt=# create table brand
			inventory_mgt-# (brand_id char(10) not null primary key,
			inventory_mgt(# brand_name varchar(20) not null unique);
			CREATE TABLE
			
2) category table - 
			inventory_mgt=# create table category
			inventory_mgt-# (category_id char(10) not null primary key,
			inventory_mgt(# category_title varchar(15) not null unique);
			CREATE TABLE
			inventory_mgt=# 
			
3) product table - 
			inventory_mgt=# create table product
			(product_id char(10) not null primary key,
			brand_id char(10) not null,
			category_id char(10) not null,
			constraint uni_product unique(brand_id,category_id),
			constraint fk_product_brand foreign key(brand_id) 
			references brand(brand_id) on delete no action on update no action,
			constraint fk_product_category foreign key(category_id)
			references category(category_id) on delete no action on update no action 
			);
			
4) supplier table -

			inventory_mgt=# create table supplier(
			inventory_mgt(# supplier_id char(10) not null primary key,
			inventory_mgt(# first_name varchar(20) not null,
			inventory_mgt(# last_name varchar(25),
			inventory_mgt(# company_name varchar(50) not null,
			inventory_mgt(# city varchar(20) not null,
			inventory_mgt(# state varchar(20) not null,
			inventory_mgt(# contact bigint not null,
			inventory_mgt(# email varchar(50),
			inventory_mgt(# product_id char(10) not null,
			inventory_mgt(# quantity int not null,
			inventory_mgt(# constraint fk_key_supplier foreign key(product_id) references product(product_id) on delete 
			no action on update no action);
			CREATE TABLE
			
			
5) Alter supplier table - 

			inventory_mgt=# alter table supplier 
			inventory_mgt-# drop constraint supplier_pkey;
			ALTER TABLE

			inventory_mgt=# alter table supplier 
			inventory_mgt-# add primary key(supplier_id,product_id);
			ALTER TABLE
			
			
			inventory_mgt=# alter table supplier 
			inventory_mgt-# drop column product_id,
			inventory_mgt-# drop column quantity;
			inventory_mgt-# add primary key(supplier_id);
			
6) Customer table -

			inventory_mgt=# create table customer
			(customer_id char(10) not null primary key,
			first_name varchar(15) not null,
			last_name varchar(20),
			city varchar(20) not null,
			state varchar(20) not null,
			contact bigint not null,
			email varchar(50));
			CREATE TABLE
			inventory_mgt=# 
		
			
7) Customer_order table -

			inventory_mgt=# create table customer_order
			inventory_mgt-# (order_id char(10) not null primary key,
			inventory_mgt(# customer_id char(10) not null,
			inventory_mgt(# invoice_no char(10) not null unique,
			inventory_mgt(# product_id char(10) not null,
			inventory_mgt(# constraint fk_key_customer foreign key(customer_id) references customer(customer_id) on    			delete no action on update no action,
			inventory_mgt(# constraint fk_key_product foreign key(product_id) references product(product_id) on delete 			no action on update no action);
			CREATE TABLE

8) Supply_order table -
			inventory_mgt=# create table supply_order
			inventory_mgt-# (sup_order_id char(10) not null primary key,
			inventory_mgt(# supplier_id char(10) not null,
			inventory_mgt(# product_id char(10) not null,
			inventory_mgt(# order_date date not null default current_date,
			inventory_mgt(# order_time time not null default current_time,
			inventory_mgt(# quantity int not null),
			constraint fk_key_supplier foreign key(supplier_id) references supplier(supplier_id) on delete restrict on update 				restrict, add constraint fk_key_product foreign key(product_id) references product(product_id) on delete restrict 				on update restrict;
			CREATE TABLE
			
9) Alter customer table add column DOB

			inventory_mgt=# alter table customer
			inventory_mgt-# add column DOB date,
			add column gender char;
			ALTER TABLE	

10) Alter customer_order table - 

			inventory_mgt=# alter table customer_order 
			add column order_date timestamp,
			add column quantity int not null,
			add column emp_id char(10) not null;
			add constraint fk_key_emp foreign key(emp_id) references employee(emp_id) on delete restrict on update restrict;
			ALTER TABLE	


			
11) Create job table -
	
			inventory_mgt=# create table job
			inventory_mgt-# (job_id char(10) not null primary key,
			inventory_mgt(# job_title varchar(20) not null);
			CREATE TABLE
			
			
12) Create table employee-

			inventory_mgt=# create table employee
			inventory_mgt-# (emp_id char(10) not null primary key,
			inventory_mgt(# first_name varchar(15) not null,
			inventory_mgt(# last_name varchar(20),
			inventory_mgt(# date_of_birth date,
			inventory_mgt(# city varchar(20),
			inventory_mgt(# state varchar(20),
			inventory_mgt(# gender char not null,
			inventory_mgt(# job_id char(10) not null,
			inventory_mgt(# date_of_joining date not null,
			inventory_mgt(# date_of_exit date,
			inventory_mgt(# salary numeric(10,2) not null);
			constraint fk_key_job foreign key(job_id) references job(job_id) on update restrict on delete restrict;

			CREATE TABLE
			
			
13) Alter table product - 

			inventory_mgt=# alter table product 
			inventory_mgt-# add column price numeric(10,2);
			ALTER TABLE
			


------------------------------------INSERT DATA---------------------------------------------
1) brand TABLE -

			inventory_mgt=# insert into brand 
			inventory_mgt-# (brand_id,brand_name)
			inventory_mgt-# values('B001','Lenovo'),
			inventory_mgt-# ('B002','Apple'),
			inventory_mgt-# ('B003','HP'),
			inventory_mgt-# ('B004','Dell'),
			inventory_mgt-# ('B005','Redmi');
			INSERT 0 5

			
2) category table-

			inventory_mgt=# insert into category
			inventory_mgt-# values('cat_001','Mobile'),
			inventory_mgt-# ('cat_002','Laptop'),
			inventory_mgt-# ('cat_003','Desktop');
			INSERT 0 3
							
3) employee table -
	
			insert into employee
			values
			('EMP001','RAHUL','SHARMA','08/08/2000','FARIDABAD','HARYANA','M','J001','05/08/2018',DEFAULT,45000.00),
			('EMP002','ROHAN','KHATRI','12/12/1995','NEW DELHI','DELHI','M','J003','15/10/2019',DEFAULT,15000.00),
			('EMP003','HARSHIT','CHAWDHARY','18/10/2001','FARIDABAD','HARYANA','M','J003','05/09/2018',DEFAULT,22000.00),
			('EMP004','GAUTAM','AHUJA','08/07/1990','FARIDABAD','HARYANA','M','J003','25/12/2015',DEFAULT,30000.00),
			('EMP005','VED','PATEL','28/05/1993','FARIDABAD','HARYANA','M','J003','05/10/2017',DEFAULT,20000.00),
			('EMP006','TEJAS','BHATT','10/08/1995','GURGOAN','HARYANA','M','J003','05/12/2019',DEFAULT,15000.00),
			('EMP007','HARSH','VERMA','13/04/1998','NOIDA','UTTAR PRADESH','M','J002','05/11/2020',DEFAULT,55000.00),
			('EMP008','SUMIT','PHUKELA','10/08/1999','GURGAON','HARYANA','M','J001','05/09/2018',DEFAULT,45000.00),
			('EMP009','VIVEK','KAMBOJ','25/12/1984','FARIDABAD','HARYANA','M','J004','05/08/2016',DEFAULT,40000.00),
			('EMP010','RAHUL','CHAWLA','01/07/2000','NOIDA','UTTAR PRADESH','M','J003','05/01/2019',DEFAULT,15000.00);

			
			
			
			
